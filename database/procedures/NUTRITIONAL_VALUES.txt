CREATE OR REPLACE PROCEDURE NUTRITIONAL_VALUES (
    R_ID IN NUMBER,
    CAL OUT NUMBER,
    PROT OUT NUMBER,
    CARB OUT NUMBER,
    FAT OUT NUMBER,
    FIB OUT NUMBER
) IS
BEGIN
    SELECT SUM(I.CALORIES * RI.QUANTITY),
           SUM(I.PROTEIN * RI.QUANTITY),
           SUM(I.CARBOHYDRATE * RI.QUANTITY),
           SUM(I.FAT * RI.QUANTITY),
           SUM(I.FIBER * RI.QUANTITY)
    INTO CAL, PROT, CARB, FAT, FIB
    FROM RECIPES R
    JOIN RECIPE_INGREDIENTS RI ON R.RECIPE_ID = RI.RECIPE_ID
    JOIN INGREDIENTS I ON RI.INGREDIENT_ID = I.INGREDIENT_ID
    WHERE R.RECIPE_ID = R_ID;
END;